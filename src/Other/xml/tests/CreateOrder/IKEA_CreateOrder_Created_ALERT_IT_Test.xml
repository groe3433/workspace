<?xml version="1.0" encoding="UTF-8"?>
<p:TestCase xmlns:p="http://www.lightwellinc.com/stf-test.xsd" xmlns:p1="http://www.lightwellinc.com/stf-common.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.lightwellinc.com/stf-test.xsd ../../../schemas/SterlingTestFramework-Test.xsd " Active="Y" Name="IKEA_CreateOrder_Created_ALERT_IT_Test"
	Description="
	1. JMS Send - Send message to Queue
	2. JSM Receive - Listen to the Queue until the message is found - Validate the Transaction ID is CREATE_SHMNT_INVOICE.0001
	">
	<p:Tags>
		<p:Tag Name="IKEA_CreateOrder_Created_ALERT_IT_Test"></p:Tag>
	</p:Tags>
	<p:Steps>
		  <p:Sequence Number="1" Delay="1">
		  <!--<p1:Component Name="IKEA_CreateOrder_Released_Component"></p1:Component>-->
			<p1:Queue Name="SOM_IN_ORDER_CREATION_QUEUE" Type="QUEUE_SEND" JmsServer="WL_JMS"></p1:Queue>
			<p1:Documents>
				<p1:Document Type="INPUT_DOCUMENT" FileName="IKEA_createOrder_input.xml" Location="resources/xml/input/IKEA/CreateOrder/">
				</p1:Document>
			</p1:Documents>
		</p:Sequence>
		
		<p:Sequence Number="2">
			<p1:Api Name="getOrderList"></p1:Api>
			<p1:Documents>
				<p1:Document Type="INPUT_DOCUMENT" FileName="IKEA_getOrderList_input.xml" Location="resources/xml/input/IKEA/CreateOrder/">
				</p1:Document>
				<p1:Document Type="OUTPUT_TEMPLATE" FileName="IKEA_getOrderList_output.xml" Location="resources/xml/output/IKEA/CreateOrder/"></p1:Document>
			</p1:Documents>
			<p1:Validations>
			<p1:Validate  ValidationType="XPATH" Expected="1100" Path="/OrderList/Order/@MaxOrderStatus"> </p1:Validate>
			</p1:Validations>
			<p1:Parameters>
				<p1:Parameter Type="OUTPUT" XPath="/OrderList/Order/@OrderHeaderKey" Key="Order.OrderHeaderKey"/>
			</p1:Parameters> 
		</p:Sequence> 
		<p:Sequence Number="3">
			<p1:Api Name="getWorkOrderList"></p1:Api>
			<p1:Documents>
				<p1:Document Type="INPUT_DOCUMENT" FileName="IKEA_getWorkOrderList_input.xml" Location="resources/xml/input/IKEA/CreateOrder/">
				</p1:Document>
				<p1:Document Type="OUTPUT_TEMPLATE" FileName="IKEA_getWorkOrderList_output.xml" Location="resources/xml/output/IKEA/CreateOrder/"></p1:Document>
			</p1:Documents>
			<p1:Validations>
				<p1:Validate  ValidationType="XPATH" Expected="1100" Path="/WorkOrders/WorkOrder/@Status"> </p1:Validate>
				<p1:Validate  ValidationType="XPATH" Expected="${Order.OrderNo}" Path="/WorkOrders/WorkOrder/Order/@OrderNo"> </p1:Validate>
			</p1:Validations>
			<p1:Parameters>
				<p1:Parameter Type="OUTPUT" XPath="/WorkOrders/WorkOrder/@WorkOrderNo" Key="WorkOrders.WorkOrders.WorkOrderNo"/>
			</p1:Parameters>
		</p:Sequence>
	</p:Steps>
	<p:Parameters>
		<p:GeneratedParameter Key="Order.OrderNo" Type="INPUT" Prefix="IKEA" Suffix="TEST"/>
		<p:GeneratedParameter Key="Order.AnswerSets.AnswerSet.1.AnswerSetTranKey" Type="INPUT" Prefix="1" Suffix="1"/>

	</p:Parameters>
</p:TestCase>

