<?xml version="1.0" encoding="UTF-8"?>
<p:TestCase xmlns:p="http://www.lightwellinc.com/stf-test.xsd" xmlns:p1="http://www.lightwellinc.com/stf-common.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.lightwellinc.com/stf-test.xsd ../../../schemas/SterlingTestFramework-Test.xsd " Active="Y" Name="IKEA_CreateOrder_Released_ALERT_IT_Test"
	Description="
	1. JMS Send - Send message to Queue
	2. JSM Receive - Listen to the Queue until the message is found - Validate the Transaction ID is CREATE_SHMNT_INVOICE.0001
	">
	<p:Tags>
		<p:Tag Name="IKEA_CreateOrder_Released_ALERT_IT_Test"></p:Tag>
	</p:Tags>
	<p:Steps>
		<p:Sequence Number="1">
			<p1:NestedTest Name="IKEA_CreateOrder_Created_ALERT_IT_Test"/>
		</p:Sequence>
		<p:Sequence Number="4">
			<p1:Api Name="scheduleOrder"></p1:Api>
			<p1:Documents>
				<p1:Document Type="INPUT_DOCUMENT" FileName="IKEA_scheduleOrder_input.xml" Location="resources/xml/input/IKEA/CreateOrder/">
				</p1:Document>
			</p1:Documents>
		</p:Sequence>
		<p:Sequence Number="5">
			<p1:Api Name="getOrderList"></p1:Api>
			<p1:Documents>
				<p1:Document Type="INPUT_DOCUMENT" FileName="IKEA_getOrderList_input.xml" Location="resources/xml/input/IKEA/CreateOrder/">
				</p1:Document>
				<p1:Document Type="OUTPUT_TEMPLATE" FileName="IKEA_getOrderList_output.xml" Location="resources/xml/output/IKEA/CreateOrder/"></p1:Document>
			</p1:Documents>
   			<p1:Validations>
			<p1:Validate  ValidationType="XPATH" Expected="1500.020" Path="/OrderList/Order/@MaxOrderStatus"> </p1:Validate>
			</p1:Validations>
		</p:Sequence> 
		<p:Sequence Number="6">
			<p1:Api Name="releaseOrder"></p1:Api>
			<p1:Documents>
				<p1:Document Type="INPUT_DOCUMENT" FileName="IKEA_releaseOrder_input.xml" Location="resources/xml/input/IKEA/CreateOrder/">
				</p1:Document>
			</p1:Documents>
		</p:Sequence>
		  <p:Sequence Number="7" Timeout="10" >
			<p1:Queue Name="SOM_OUT_PUBLISH_RELEASE_QUEUE" Type="QUEUE_RECEIVE" JmsServer="WL_JMS">
				<p1:XPaths>
					<p1:XPath XPath="/OrderRelease/@WorkOrderNo" Match="${WorkOrders.WorkOrders.WorkOrderNo}"></p1:XPath>
				</p1:XPaths>
			</p1:Queue>
			<p1:Validations>
				<p1:Validate ValidationType="XPATH" Expected="${WorkOrders.WorkOrders.WorkOrderNo}" Path="/OrderRelease/@WorkOrderNo"></p1:Validate>
			</p1:Validations>
			<p1:Parameters>
				<p1:Parameter Type="OUTPUT" XPath="/OrderRelease/@ShipAdviceNo" Key="OrderRelease.ShipAdviceNo"/>
				<p1:Parameter Type="OUTPUT" XPath="/OrderRelease/OrderLine/@OrderLineKey" Key="OrderRelease.OrderLine.OrderLineKey"/>

			</p1:Parameters>
		</p:Sequence>
	</p:Steps>
	<p:Parameters>
		<p:GeneratedParameter Key="Order.OrderNo" Type="INPUT" Prefix="IKEA" Suffix="TEST"/>
		<p:GeneratedParameter Key="Order.AnswerSets.AnswerSet.1.AnswerSetTranKey" Type="INPUT" Prefix="1" Suffix="1"/>

	</p:Parameters>
</p:TestCase>

